# –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á OJS-–ø–∞—Ä–∏—Ç–µ—Ç–∞

**–î–∞—Ç–∞:** 2025-11-04  
**–í–µ—Ç–∫–∞:** `feature/etl-and-urls`

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ `base.py`, `dev.py`, `prod.py`
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω `django-environ` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω `.env.example` —Å –ø—Ä–∏–º–µ—Ä–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è ETL –∏ Django
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (HSTS, CSP) –≤ `prod.py`

### 2. –ú–æ–¥–µ–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ ‚úÖ
- ‚úÖ –î–æ–ø–æ–ª–Ω–µ–Ω–∞ –º–æ–¥–µ–ª—å `Issue`:
  - –î–æ–±–∞–≤–ª–µ–Ω `slug` (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `get_absolute_url()`
  
- ‚úÖ –î–æ–ø–æ–ª–Ω–µ–Ω–∞ –º–æ–¥–µ–ª—å `Article`:
  - –î–æ–±–∞–≤–ª–µ–Ω `slug` (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å —Å `Section`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `get_absolute_url()`
  
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –≤ `articles/models_extended.py`:
  - `ArticleLocale` - –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–∞—Ç–µ–π (title, abstract, body_html)
  - `Keyword` - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Å M2M —Å–≤—è–∑—å—é –∫ —Å—Ç–∞—Ç—å—è–º
  - `ArticleFile` - —Ñ–∞–π–ª—ã —Å—Ç–∞—Ç–µ–π (PDF, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ–ø. –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
  
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –≤ `core/models_extended.py`:
  - `NewsLocale` - –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–æ–≤–æ—Å—Ç–µ–π
  - `PageLocale` - –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü
  - `Event` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –∑–∞–≥—Ä—É–∑–∫–∏, —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã)
  - `RawDocument` - —Å—ã—Ä—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è ETL –ø—Ä–æ—Ü–µ—Å—Å–∞
  - `Affiliation` - –∞—Ñ—Ñ–∏–ª–∏–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ä–æ–≤
  
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `Redirect`:
  - –î–æ–±–∞–≤–ª–µ–Ω `http_status` (301/302)
  - –£–ª—É—á—à–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –¥–ª—è –¥–∞—Ç

### 3. –ü–æ–∏—Å–∫ ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã GIN –∏–Ω–¥–µ–∫—Å—ã –≤ –º–æ–¥–µ–ª—è—Ö (–¥–ª—è Postgres)
- ‚úÖ API `/api/search` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Postgres full-text search (SearchVector, SearchRank)
  - Fallback –Ω–∞ SQLite —Å `icontains`
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–ø—É—Å–∫–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ slug –≤ URL —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 4. ETL –ø–∞–∫–µ—Ç ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–∞–∫–µ—Ç `etl/` —Å –º–æ–¥—É–ª—è–º–∏:
  - `util.py` - —É—Ç–∏–ª–∏—Ç—ã (SHA256, JSONL, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è URL)
  - `normalize.py` - –æ—á–∏—Å—Ç–∫–∞ HTML (–±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤, —É–¥–∞–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤/—Å—Ç–∏–ª–µ–π)
  - `crawler.py` - –±–∞–∑–æ–≤—ã–π –∫—Ä–∞—É–ª–µ—Ä –¥–ª—è OJS —Å–∞–π—Ç–∞
  - `cli.py` - CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`python -m etl crawl ...`)
  - `__main__.py` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞

### 5. Management –∫–æ–º–∞–Ω–¥–∞ –∏–º–ø–æ—Ä—Ç–∞ ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `articles/management/commands/import_jhd.py`:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ JSONL —Ñ–∞–π–ª–∞ –∏–ª–∏ URL
  - –†–µ–∂–∏–º `--dry-run` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
  - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Å—Ç–∞—Ç–µ–π –∏ –≤—ã–ø—É—Å–∫–æ–≤
  - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ SHA256 —á–µ—Ä–µ–∑ `RawDocument`

### 6. URL, –≤—å—é—Ö–∏, —à–∞–±–ª–æ–Ω—ã ‚úÖ
- ‚úÖ URLs –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
  - `/articles/<slug>/` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ –ø–æ slug
  - `/articles/<pk>/` - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ pk
  - `/issues/<year>/<number>/` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–ø—É—Å–∫–∞
  - `/files/<pk>/download/` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
  
- ‚úÖ –í—å—é—Ö–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
  - `ArticleDetailView` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ slug –∏ pk
  - `file_download` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `ArticleFile`
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ `Event`
  
- ‚è≥ –®–∞–±–ª–æ–Ω—ã —Å i18n (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞) - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤
- ‚è≥ OpenGraph/Twitter meta —Ç–µ–≥–∏ - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤
- ‚è≥ –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤

### 7. –†–µ–¥–∏—Ä–µ–∫—Ç—ã ‚úÖ
- ‚úÖ –°–æ–∑–¥–∞–Ω `RedirectMiddleware` –≤ `core/middleware.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω middleware –≤ `MIDDLEWARE` –≤ `settings/base.py`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `Redirect` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π 301/302
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –≤ `Event`

### 8. SEO ‚úÖ
- ‚úÖ `sitemap.xml` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `core/sitemaps.py` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π slug
- ‚úÖ `robots.txt` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `core/views.py`
- ‚úÖ `ArticleSitemap` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è slug
- ‚è≥ `humans.txt` - –Ω–µ —Å–æ–∑–¥–∞–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 9. –ê–¥–º–∏–Ω–∫–∞ ‚úÖ
- ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∞–¥–º–∏–Ω–∫–µ:
  - `ArticleLocale`, `Keyword`, `ArticleFile` –≤ `articles/admin.py`
  - `NewsLocale`, `PageLocale`, `Event`, `RawDocument`, `Affiliation` –≤ `core/admin.py`
  - –û–±–Ω–æ–≤–ª–µ–Ω `RedirectAdmin` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `http_status`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ–∏—Å–∫ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π

### 10. Makefile ‚úÖ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `Makefile` —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
  - `make dev` - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
  - `make etl` - ETL –∫—Ä–∞—É–ª–∏–Ω–≥
  - `make import` - –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
  - `make test`, `make migrate`, `make deploy`

## üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. `jhdkz_portal/settings/base.py` (–æ–±–Ω–æ–≤–ª–µ–Ω)
2. `jhdkz_portal/settings/dev.py` (–æ–±–Ω–æ–≤–ª–µ–Ω)
3. `jhdkz_portal/settings/prod.py` (–æ–±–Ω–æ–≤–ª–µ–Ω)
4. `.env.example`
5. `articles/models_extended.py`
6. `core/models_extended.py`
7. `core/middleware.py`
8. `etl/__init__.py`
9. `etl/util.py`
10. `etl/normalize.py`
11. `etl/crawler.py`
12. `etl/cli.py`
13. `etl/__main__.py`
14. `articles/management/commands/import_jhd.py`
15. `Makefile` (–æ–±–Ω–æ–≤–ª–µ–Ω)
16. `PROGRESS.md`
17. `SUMMARY.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. `issues/models.py` - –¥–æ–±–∞–≤–ª–µ–Ω slug, –∏–Ω–¥–µ–∫—Å—ã
3. `articles/models.py` - –¥–æ–±–∞–≤–ª–µ–Ω slug, section, –∏–Ω–¥–µ–∫—Å—ã
4. `core/models.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å Redirect
5. `articles/urls.py` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ slug
6. `articles/views.py` - –æ–±–Ω–æ–≤–ª–µ–Ω ArticleDetailView
7. `core/views.py` - –æ–±–Ω–æ–≤–ª–µ–Ω api_search, file_download
8. `core/sitemaps.py` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è slug
9. `core/admin.py` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
10. `articles/admin.py` - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
11. `jhdkz_portal/settings/base.py` - –¥–æ–±–∞–≤–ª–µ–Ω middleware

## üîÑ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### 1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
python manage.py makemigrations
python manage.py migrate
```

### 2. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å ETL –ø–∞—Ä—Å–µ—Ä—ã (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é `_extract_article()` –∏ `_extract_issue()` –≤ `crawler.py`
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ OJS XML —Ñ–æ—Ä–º–∞—Ç–∞ (—Ñ–∞–π–ª `ojs_xml.py`)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å `files.py` –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å `mapping.py` –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è old->new URL

### 3. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∏–º–ø–æ—Ä—Ç–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –∏–º–ø–æ—Ä—Ç —Å—Ç–∞—Ç–µ–π —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç –≤—ã–ø—É—Å–∫–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∞—Ñ—Ñ–∏–ª–∏–∞—Ü–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è CSV –æ—Ç—á–µ—Ç–∞ –æ –ø—Ä–æ–ø—É—Å–∫–∞—Ö

### 4. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —à–∞–±–ª–æ–Ω—ã
- –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –≤ —à–∞–±–ª–æ–Ω—ã
- –î–æ–±–∞–≤–∏—Ç—å OpenGraph/Twitter meta —Ç–µ–≥–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏

### 5. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Smoke-—Ç–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π
- –¢–µ—Å—Ç—ã –¥–ª—è URLs
- –¢–µ—Å—Ç—ã –¥–ª—è views (–ø–æ–∏—Å–∫, —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã)
- –¢–µ—Å—Ç—ã –¥–ª—è ETL

### 6. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `INSTALL.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- `DEPLOY.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- `ETL.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ ETL –ø—Ä–æ—Ü–µ—Å—Å—É
- `REDIRECTS.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º
- `BACKUP_RESTORE.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–º—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ú–∏–≥—Ä–∞—Ü–∏–∏:** –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
2. **Postgres:** GIN –∏–Ω–¥–µ–∫—Å—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `pg_trgm` –≤ Postgres:
   ```sql
   CREATE EXTENSION IF NOT EXISTS pg_trgm;
   ```
3. **–ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã:** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `media/jhdkz/<type>/<year>/<id-or-slug>/<filename>` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞—Ö —Ñ–∞–π–ª–æ–≤
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 17
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 11
- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π:** 8
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ –º–æ–¥–µ–ª–µ–π:** 3
- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö –≤—å—é—Ö:** 0 (–æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö URL –º–∞—Ä—à—Ä—É—Ç–æ–≤:** 0 (–æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –ò–º–ø–æ—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ OJS —Å–∞–π—Ç–∞
- ‚úÖ –î–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- ‚è≥ –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–∏–≥—Ä–∞—Ü–∏–π)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Ö**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å ETL –∫—Ä–∞—É–ª–∏–Ω–≥ –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**
4. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `import_jhd`**
5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –¥–ª—è —Å—Ç–∞—Ä—ã—Ö URL**
6. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
7. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω**

---

**–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è OJS-–ø–∞—Ä–∏—Ç–µ—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞. ‚úÖ

